<!--Commented-->

<!--ALL NEW REGISTER CODE BASIC TEMPLATE TO START WITH-->

<!-- Register Page -->
<!--this page extends the base.html to reuse the common structure like nav bar, footer and what not-->

<!--primary purpose is to display rego for for new users and collect all their details-->
<!-- then we validate feilds using flask-wtforms-->
 <!--then we wubmit data to the server via post for all the accounts creation-->
{% extends "base.html" %}

<!-- sets the title for the browser tab-->
{% block title %}Register - PoolBNB{% endblock %}

{% block content %}

<!--main section of the page-->
<!-- removed hero-tall it is redundant now-->
 <!-- hero banner stuff is all styling from css-->
<main class="d-flex align-items-center justify-content-center py-5 hero-banner">
  <div class="container">
    <div class="row justify-content-center">

      <!--centered column that adjusts for different screen sizes-->
      <!--like mobile and desktop-->
      <div class="col-sm-10 col-md-8 col-lg-5">

        <!-- bootstrap card-->
         <!-- so using bs's card component and white text to contrast-->
        <div class="card shadow-sm" style="color:white;">
          <div class="card-body p-4">
            <h2 class="h4 mb-4 text-center">Create an Account</h2>

            <!--Rego form-->
            <!-- method is post so data gets sent back to server-->
             <!-- so flask-wtforms handles field rendering and validation plus protection-->
            <form method="POST">
              <!-- hidden tag adds CSRF protection and is pre much security token-->
               <!-- its auto generated by flask wtforms-->
              {{ form.hidden_tag() }}

              <!-- username field -->
              <div class="mb-3">
                <!--using all the css styling input-59-->
                <!--label and input-->
                {{ form.user_name.label(class="form-label") }}
                {{ form.user_name(class="input-59") }}
                <!-- error message if validation is wrong-->
                {% for error in form.user_name.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>

              <!-- email input field-->
              <div class="mb-3">
                <!-- same input rendering styling throughout this -->
                {{ form.email.label(class="form-label") }}
                {{ form.email(class="input-59") }}
                <!--same error message with bs's text styling-->
                {% for error in form.email.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>
              
              <!--contact number input field-->
              <div class="mb-3">
                {{ form.contact_number.label(class="form-label") }}
                {{ form.contact_number(class="input-59") }}
                {% for error in form.contact_number.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>

              <!--street address input field-->
              <div class="mb-3">
                {{ form.street_address.label(class="form-label") }}
                {{ form.street_address(class="input-59") }}
                {% for error in form.street_address.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>

              <!--password input = pre much the same as all above -->
              <div class="mb-3">
                {{ form.password.label(class="form-label") }}
                {{ form.password(class="input-59") }}
                {% for error in form.password.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>

              <!-- confirm Password and uses the same logic as before-->
              <div class="mb-3">
                {{ form.confirm.label(class="form-label") }}
                {{ form.confirm(class="input-59") }}
                {% for error in form.confirm.errors %}
                  <div class="text-danger small">{{ error }}</div>
                {% endfor %}
              </div>

              <!--submit button-->
              <!-- using css styling-->
              <div class="d-grid">
                {{ form.submit(class="button-59") }}
              </div>
            </form>
          </div>
        </div>

        <!--login link-->
        <!--Shown below the form, so users who already have accounts can switch -->
        <!-- it's pretty much a shortcut-->
        <p class="text-center mt-3 small text-white">
          Already have an account??
          <a href="{{ url_for('auth.login') }}" class="link-light">Login here</a>
        </p>
      </div>
    </div>
  </div>
</main>
{% endblock %}
